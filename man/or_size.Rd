% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/or_size.R
\name{or_size}
\alias{or_size}
\title{Sample Size or Power Calculation for Odds Ratio Tests}
\usage{
or_size(
  pA,
  pB,
  delta = NULL,
  kappa = 1,
  alpha,
  beta = NULL,
  nB = NULL,
  test_type = "equality"
)
}
\arguments{
\item{pA}{Numeric. Proportion in group A (e.g., treatment group).}

\item{pB}{Numeric. Proportion in group B (e.g., control group).}

\item{delta}{Numeric (optional). Non-inferiority or equivalence margin on the log-odds scale. Required for \code{"non-inferiority"} and \code{"equivalence"} tests.}

\item{kappa}{Numeric. Ratio of sample sizes (nB/nA). Defaults to 1 (equal sample sizes).}

\item{alpha}{Numeric. Significance level (Type I error rate).}

\item{beta}{Numeric (optional). Type II error rate (1 - power). Required when computing required sample size.}

\item{nB}{Integer (optional). Sample size for group B. Required when computing power.}

\item{test_type}{Character. Type of hypothesis test. Must be one of \code{"equality"}, \code{"non-inferiority"}, or \code{"equivalence"}.}
}
\value{
\itemize{
\item If \code{beta} is provided and \code{nB} is NULL, returns the required sample size for group B (rounded up); group A size is determined by \code{kappa}.
\item If \code{nB} is provided and \code{beta} is NULL, returns the achieved power of the test.
}
}
\description{
This function computes the required sample size or the achieved power for hypothesis tests comparing two independent proportions
using the odds ratio. It supports equality, non-inferiority, and equivalence tests based on the logarithm of the odds ratio.
}
\details{
The function uses a normal approximation for the distribution of the log-odds ratio. The sample size calculation accounts for group allocation ratio (\code{kappa})
and variance of the log-odds estimate. The margin \code{delta} must be specified for non-inferiority and equivalence designs.
}
\examples{
# Required sample size for odds ratio equality test
or_size(pA = 0.6, pB = 0.5, alpha = 0.05, beta = 0.2, test_type = "equality")

# Power calculation for equivalence test
or_size(pA = 0.55, pB = 0.5, delta = 0.2, alpha = 0.05, nB = 100, test_type = "equivalence")

}
